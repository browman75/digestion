<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>人體消化系統學習遊戲</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .organ-slot {
            min-height: 40px;
            transition: all 0.3s ease;
        }
        .organ-card {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .organ-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .organ-card.selected {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            transform: scale(1.05);
        }
        .slot.filled {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }
        .slot.correct {
            background: linear-gradient(135deg, #10b981, #059669);
            animation: pulse 0.5s ease-in-out;
        }
        .slot.incorrect {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            animation: shake 0.5s ease-in-out;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .digestive-diagram {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 2px dashed #0ea5e9;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-full">
    <header class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <h1 class="text-3xl font-bold text-center text-indigo-800">人體消化系統學習遊戲</h1>
            <div class="mt-4 bg-blue-50 rounded-lg p-4">
                <h2 class="text-lg font-semibold text-blue-800 mb-2">遊戲規則：</h2>
                <p class="text-blue-700">1. 點選右側的器官名稱卡片</p>
                <p class="text-blue-700">2. 再點選中間對應的代碼空格</p>
                <p class="text-blue-700">3. 正確配對後會顯示綠色，錯誤會顯示紅色</p>
                <p class="text-blue-700">4. 完成所有配對才能進入下一頁</p>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-8">
        <div class="grid grid-cols-12 gap-6 h-full">
            <!-- 左欄：消化系統圖 -->
            <div class="col-span-4">
                <div class="digestive-diagram rounded-xl p-6 h-full flex items-center justify-center">
                    <div class="text-center">
    
                            <!-- 人體輪廓 -->
                            <img src="images/body.png" alt="人體輪廓" width="200" />
                            
                            <!-- 口腔 (B) -->
                            <circle cx="100" cy="40" r="8" fill="#fca5a5" stroke="#dc2626" stroke-width="2"/>
                            <text x="115" y="45" class="text-xs font-bold fill-red-600">B</text>
                            
                            <!-- 唾腺 (A) -->
                            <circle cx="85" cy="35" r="4" fill="#a78bfa" stroke="#7c3aed" stroke-width="1"/>
                            <circle cx="115" cy="35" r="4" fill="#a78bfa" stroke="#7c3aed" stroke-width="1"/>
                            <text x="75" y="30" class="text-xs font-bold fill-purple-600">A</text>
                            
                            <!-- 咽喉 (C) -->
                            <rect x="95" y="50" width="10" height="15" fill="#fbbf24" stroke="#d97706" stroke-width="2"/>
                            <text x="110" y="60" class="text-xs font-bold fill-amber-600">C</text>
                            
                            <!-- 食道 (D) -->
                            <rect x="97" y="65" width="6" height="40" fill="#34d399" stroke="#059669" stroke-width="2"/>
                            <text x="110" y="85" class="text-xs font-bold fill-emerald-600">D</text>
                            
                            <!-- 肝臟 (E) -->
                            <ellipse cx="85" cy="120" rx="15" ry="20" fill="#f87171" stroke="#dc2626" stroke-width="2"/>
                            <text x="65" y="125" class="text-xs font-bold fill-red-600">E</text>
                            
                            <!-- 膽囊 (F) -->
                            <circle cx="105" cy="115" r="6" fill="#4ade80" stroke="#16a34a" stroke-width="2"/>
                            <text x="115" y="120" class="text-xs font-bold fill-green-600">F</text>
                            
                            <!-- 胃 (G) -->
                            <ellipse cx="90" cy="140" rx="12" ry="18" fill="#fb7185" stroke="#e11d48" stroke-width="2"/>
                            <text x="75" y="145" class="text-xs font-bold fill-pink-600">G</text>
                            
                            <!-- 胰臟 (H) -->
                            <ellipse cx="110" cy="145" rx="8" ry="12" fill="#a855f7" stroke="#9333ea" stroke-width="2"/>
                            <text x="125" y="150" class="text-xs font-bold fill-purple-600">H</text>
                            
                            <!-- 小腸 (I) -->
                            <path d="M85 160 Q100 170 115 160 Q100 180 85 170 Q100 190 115 180 Q100 200 85 190" fill="#60a5fa" stroke="#2563eb" stroke-width="2"/>
                            <text x="125" y="180" class="text-xs font-bold fill-blue-600">I</text>
                            
                            <!-- 大腸 (J) -->
                            <path d="M75 200 L125 200 L125 240 L75 240 Z" fill="#f59e0b" stroke="#d97706" stroke-width="2" fill-opacity="0.7"/>
                            <text x="130" y="220" class="text-xs font-bold fill-amber-600">J</text>
                            
                            <!-- 肛門 (K) -->
                            <circle cx="100" cy="260" r="5" fill="#6b7280" stroke="#374151" stroke-width="2"/>
                            <text x="110" y="265" class="text-xs font-bold fill-gray-600">K</text>
                        </svg>
                        <p class="text-sm text-blue-600 mt-4 font-medium">人體消化系統示意圖</p>
                    </div>
                </div>
            </div>

            <!-- 中欄：代碼配對區 -->
            <div class="col-span-4">
                <div class="bg-white rounded-xl shadow-lg p-6 h-full">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">配對區域</h3>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-4" data-code="A">
                            <span class="text-lg font-bold text-gray-700 w-6">A.</span>
                            <div class="organ-slot slot flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-400 transition-colors" data-answer="唾腺">
                                <span class="text-gray-400">點擊放置器官</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4" data-code="B">
                            <span class="text-lg font-bold text-gray-700 w-6">B.</span>
                            <div class="organ-slot slot flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-400 transition-colors" data-answer="口腔">
                                <span class="text-gray-400">點擊放置器官</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4" data-code="C">
                            <span class="text-lg font-bold text-gray-700 w-6">C.</span>
                            <div class="organ-slot slot flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-400 transition-colors" data-answer="咽喉">
                                <span class="text-gray-400">點擊放置器官</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4" data-code="D">
                            <span class="text-lg font-bold text-gray-700 w-6">D.</span>
                            <div class="organ-slot slot flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-400 transition-colors" data-answer="食道">
                                <span class="text-gray-400">點擊放置器官</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4" data-code="E">
                            <span class="text-lg font-bold text-gray-700 w-6">E.</span>
                            <div class="organ-slot slot flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-400 transition-colors" data-answer="肝臟">
                                <span class="text-gray-400">點擊放置器官</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4" data-code="F">
                            <span class="text-lg font-bold text-gray-700 w-6">F.</span>
                            <div class="organ-slot slot flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-400 transition-colors" data-answer="膽囊">
                                <span class="text-gray-400">點擊放置器官</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4" data-code="G">
                            <span class="text-lg font-bold text-gray-700 w-6">G.</span>
                            <div class="organ-slot slot flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-400 transition-colors" data-answer="胃">
                                <span class="text-gray-400">點擊放置器官</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4" data-code="H">
                            <span class="text-lg font-bold text-gray-700 w-6">H.</span>
                            <div class="organ-slot slot flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-400 transition-colors" data-answer="胰臟">
                                <span class="text-gray-400">點擊放置器官</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4" data-code="I">
                            <span class="text-lg font-bold text-gray-700 w-6">I.</span>
                            <div class="organ-slot slot flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-400 transition-colors" data-answer="小腸">
                                <span class="text-gray-400">點擊放置器官</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4" data-code="J">
                            <span class="text-lg font-bold text-gray-700 w-6">J.</span>
                            <div class="organ-slot slot flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-400 transition-colors" data-answer="大腸">
                                <span class="text-gray-400">點擊放置器官</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4" data-code="K">
                            <span class="text-lg font-bold text-gray-700 w-6">K.</span>
                            <div class="organ-slot slot flex-1 border-2 border-dashed border-gray-300 rounded-lg p-3 text-center cursor-pointer hover:border-blue-400 transition-colors" data-answer="肛門">
                                <span class="text-gray-400">點擊放置器官</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 右欄：器官名稱卡片 -->
            <div class="col-span-4">
                <div class="bg-white rounded-xl shadow-lg p-6 h-full">
                    <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">器官名稱</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="organ-card bg-gradient-to-r from-purple-100 to-purple-200 rounded-lg p-3 text-center font-medium text-purple-800 border-2 border-purple-300" data-organ="唾腺">
                            唾腺
                        </div>
                        <div class="organ-card bg-gradient-to-r from-red-100 to-red-200 rounded-lg p-3 text-center font-medium text-red-800 border-2 border-red-300" data-organ="口腔">
                            口腔
                        </div>
                        <div class="organ-card bg-gradient-to-r from-amber-100 to-amber-200 rounded-lg p-3 text-center font-medium text-amber-800 border-2 border-amber-300" data-organ="咽喉">
                            咽喉
                        </div>
                        <div class="organ-card bg-gradient-to-r from-emerald-100 to-emerald-200 rounded-lg p-3 text-center font-medium text-emerald-800 border-2 border-emerald-300" data-organ="食道">
                            食道
                        </div>
                        <div class="organ-card bg-gradient-to-r from-red-100 to-pink-200 rounded-lg p-3 text-center font-medium text-red-800 border-2 border-red-300" data-organ="肝臟">
                            肝臟
                        </div>
                        <div class="organ-card bg-gradient-to-r from-green-100 to-green-200 rounded-lg p-3 text-center font-medium text-green-800 border-2 border-green-300" data-organ="膽囊">
                            膽囊
                        </div>
                        <div class="organ-card bg-gradient-to-r from-pink-100 to-pink-200 rounded-lg p-3 text-center font-medium text-pink-800 border-2 border-pink-300" data-organ="胃">
                            胃
                        </div>
                        <div class="organ-card bg-gradient-to-r from-purple-100 to-indigo-200 rounded-lg p-3 text-center font-medium text-purple-800 border-2 border-purple-300" data-organ="胰臟">
                            胰臟
                        </div>
                        <div class="organ-card bg-gradient-to-r from-blue-100 to-blue-200 rounded-lg p-3 text-center font-medium text-blue-800 border-2 border-blue-300" data-organ="小腸">
                            小腸
                        </div>
                        <div class="organ-card bg-gradient-to-r from-orange-100 to-orange-200 rounded-lg p-3 text-center font-medium text-orange-800 border-2 border-orange-300" data-organ="大腸">
                            大腸
                        </div>
                        <div class="organ-card bg-gradient-to-r from-gray-100 to-gray-200 rounded-lg p-3 text-center font-medium text-gray-800 border-2 border-gray-300 col-span-2" data-organ="肛門">
                            肛門
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 導航按鈕 -->
    <footer class="max-w-7xl mx-auto px-6 py-6">
        <div class="flex justify-between items-center">
            <button class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors flex items-center space-x-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
                <span>上一頁</span>
            </button>
            
            <div class="text-center">
                <div id="progress" class="text-lg font-semibold text-indigo-600 mb-2">進度：0/11</div>
                <div class="w-64 bg-gray-200 rounded-full h-3">
                    <div id="progressBar" class="bg-indigo-600 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
            
            <button id="nextBtn" class="bg-gray-400 text-white font-bold py-3 px-6 rounded-lg transition-colors flex items-center space-x-2 cursor-not-allowed" disabled>
                <span>下一頁</span>
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
            </button>
        </div>
    </footer>

    <script>
        let selectedOrgan = null;
        let correctAnswers = 0;
        const totalAnswers = 11;

        // 器官卡片點擊事件
        document.querySelectorAll('.organ-card').forEach(card => {
            card.addEventListener('click', function() {
                // 移除之前選中的狀態
                document.querySelectorAll('.organ-card').forEach(c => c.classList.remove('selected'));
                
                // 選中當前卡片
                this.classList.add('selected');
                selectedOrgan = this.dataset.organ;
            });
        });

        // 空格點擊事件
        document.querySelectorAll('.slot').forEach(slot => {
            slot.addEventListener('click', function() {
                if (!selectedOrgan) {
                    // 創建提示訊息
                    showMessage('請先選擇一個器官名稱！', 'warning');
                    return;
                }

                if (this.classList.contains('filled')) {
                    showMessage('這個位置已經填入器官了！', 'info');
                    return;
                }

                const correctAnswer = this.dataset.answer;
                
                if (selectedOrgan === correctAnswer) {
                    // 正確答案
                    this.innerHTML = `<span class="font-semibold">${selectedOrgan}</span>`;
                    this.classList.add('filled', 'correct');
                    this.classList.remove('border-dashed', 'border-gray-300');
                    
                    // 移除對應的器官卡片
                    const organCard = document.querySelector(`[data-organ="${selectedOrgan}"]`);
                    organCard.style.opacity = '0.3';
                    organCard.style.pointerEvents = 'none';
                    organCard.classList.remove('selected');
                    
                    correctAnswers++;
                    updateProgress();
                    showMessage('正確！', 'success');
                } else {
                    // 錯誤答案
                    this.classList.add('incorrect');
                    showMessage(`錯誤！${selectedOrgan} 不是正確答案`, 'error');
                    
                    // 移除錯誤樣式
                    setTimeout(() => {
                        this.classList.remove('incorrect');
                    }, 500);
                }

                // 重置選擇
                selectedOrgan = null;
                document.querySelectorAll('.organ-card').forEach(c => c.classList.remove('selected'));
            });
        });

        function updateProgress() {
            const progressText = document.getElementById('progress');
            const progressBar = document.getElementById('progressBar');
            const nextBtn = document.getElementById('nextBtn');
            
            progressText.textContent = `進度：${correctAnswers}/${totalAnswers}`;
            const percentage = (correctAnswers / totalAnswers) * 100;
            progressBar.style.width = `${percentage}%`;
            
            if (correctAnswers === totalAnswers) {
                nextBtn.disabled = false;
                nextBtn.classList.remove('bg-gray-400', 'cursor-not-allowed');
                nextBtn.classList.add('bg-green-500', 'hover:bg-green-600');
                showMessage('恭喜！全部答對了，可以進入下一頁！', 'success');
            }
        }

        function showMessage(text, type) {
            // 移除現有的訊息
            const existingMessage = document.querySelector('.message-toast');
            if (existingMessage) {
                existingMessage.remove();
            }

            const message = document.createElement('div');
            message.className = 'message-toast fixed top-4 right-4 px-6 py-3 rounded-lg font-medium z-50 transition-all duration-300';
            
            switch(type) {
                case 'success':
                    message.classList.add('bg-green-500', 'text-white');
                    break;
                case 'error':
                    message.classList.add('bg-red-500', 'text-white');
                    break;
                case 'warning':
                    message.classList.add('bg-yellow-500', 'text-white');
                    break;
                case 'info':
                    message.classList.add('bg-blue-500', 'text-white');
                    break;
            }
            
            message.textContent = text;
            document.body.appendChild(message);
            
            // 自動移除訊息
            setTimeout(() => {
                message.style.opacity = '0';
                message.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (message.parentNode) {
                        message.remove();
                    }
                }, 300);
            }, 3000);
        }

        // 下一頁按鈕點擊事件
        document.getElementById('nextBtn').addEventListener('click', function() {
            if (correctAnswers === totalAnswers) {
                showMessage('準備進入下一頁...', 'success');
                // 這裡可以添加實際的頁面跳轉邏輯
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'991556749315a9cb',t:'MTc2MDkyOTk5MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
